<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Laika 0.18.1 + Helium Theme" />
  <title>Primitive Metric Types</title>
  
  
  <meta name="description" content="docs"/>
  
  
  <link rel="icon" sizes="32x32" type="image/png" href="/img/icon-150x150.png"/>
  
  <link rel="icon" sizes="192x192" type="image/png" href="/img/icon-300x300.png"/>
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.207/distr/fira_code.css">
  
  <link rel="stylesheet" type="text/css" href="../helium/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../helium/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="../css/permutive.css" />
    <link rel="stylesheet" type="text/css" href="../site/styles.css" />
  <script src="../helium/laika-helium.js"></script>
  
  
  <script> /* for avoiding page load transitions */ </script>
</head>

<body>

<div id="bg"></div>

<header id="top-bar">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika" title="Navigation">&#xefa2;</i>
    </a>
    
  </div>

  <a class="image-link" href="https://permutive.com"><img src="../img/symbol.svg"></a>

  <span class="row links"><a class="icon-link svg-link" href="https://oss.sonatype.org/service/local/repositories/snapshots/archive/com/permutive/prometheus4cats-docs_2.13/0.0-8a103e5-SNAPSHOT/prometheus4cats-docs_2.13-0.0-8a103e5-SNAPSHOT-javadoc.jar/!/index.html"><span title="API"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M75,47.5c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm-50,-0c13.246,-0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,-0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm2.705,16.735l7.239,0l0.622,-4.904l-21.833,0l-0,4.904l7.589,0l0,22.067l6.383,0l-0,-22.067Zm58.076,7.265c-0,-8.757 -3.698,-14.166 -10.781,-14.166c-7.083,-0 -10.781,5.604 -10.781,14.166c0,8.757 3.698,14.166 10.781,14.166c7.083,0 10.781,-5.604 10.781,-14.166Zm-6.539,0c0,6.538 -1.128,9.496 -4.242,9.496c-2.997,0 -4.242,-2.88 -4.242,-9.496c-0,-6.616 1.206,-9.496 4.242,-9.496c3.036,-0 4.242,2.88 4.242,9.496Zm-29.242,-67c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm0.512,9.834c-7.122,-0 -12.609,5.098 -12.609,14.127c-0,9.263 5.215,14.205 12.532,14.205c4.164,0 7.083,-1.634 9.068,-3.658l-2.88,-3.697c-1.518,1.206 -3.153,2.413 -5.838,2.413c-3.697,-0 -6.266,-2.763 -6.266,-9.263c-0,-6.616 2.724,-9.379 6.149,-9.379c2.102,-0 3.892,0.778 5.371,1.984l3.113,-3.775c-2.257,-1.868 -4.748,-2.957 -8.64,-2.957Z"/>
  </g>
</svg></span></a><a class="icon-link svg-link" href="https://github.com/permutive-engineering/prometheus4cats"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a></span>

</header>

<nav id="sidebar">

  <div class="row">
    <a class="icon-link svg-link" href="https://oss.sonatype.org/service/local/repositories/snapshots/archive/com/permutive/prometheus4cats-docs_2.13/0.0-8a103e5-SNAPSHOT/prometheus4cats-docs_2.13-0.0-8a103e5-SNAPSHOT-javadoc.jar/!/index.html"><span title="API"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M75,47.5c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm-50,-0c13.246,-0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,-0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm2.705,16.735l7.239,0l0.622,-4.904l-21.833,0l-0,4.904l7.589,0l0,22.067l6.383,0l-0,-22.067Zm58.076,7.265c-0,-8.757 -3.698,-14.166 -10.781,-14.166c-7.083,-0 -10.781,5.604 -10.781,14.166c0,8.757 3.698,14.166 10.781,14.166c7.083,0 10.781,-5.604 10.781,-14.166Zm-6.539,0c0,6.538 -1.128,9.496 -4.242,9.496c-2.997,0 -4.242,-2.88 -4.242,-9.496c-0,-6.616 1.206,-9.496 4.242,-9.496c3.036,-0 4.242,2.88 4.242,9.496Zm-29.242,-67c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm0.512,9.834c-7.122,-0 -12.609,5.098 -12.609,14.127c-0,9.263 5.215,14.205 12.532,14.205c4.164,0 7.083,-1.634 9.068,-3.658l-2.88,-3.697c-1.518,1.206 -3.153,2.413 -5.838,2.413c-3.697,-0 -6.266,-2.763 -6.266,-9.263c-0,-6.616 2.724,-9.379 6.149,-9.379c2.102,-0 3.892,0.778 5.371,1.984l3.113,-3.775c-2.257,-1.868 -4.748,-2.957 -8.64,-2.957Z"/>
  </g>
</svg></span></a><a class="icon-link svg-link" href="https://github.com/permutive-engineering/prometheus4cats"><span title="Source Code"><svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <g class="svg-shape">
    <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
  </g>
</svg></span></a>
  </div>

  <ul class="nav-list">
    <li class="level1"><a href="../index.html">Prometheus4Cats</a></li>
    <li class="level1 nav-header">design</li>
    <li class="level2"><a href="../design/design.html">Design</a></li>
    <li class="level1 nav-header">interface</li>
    <li class="level2"><a href="../interface/callback-registry.html">Callback Registry</a></li>
    <li class="level2"><a href="../interface/dsl.html">Metrics DSL</a></li>
    <li class="level2"><a href="../interface/metric-factory.html">Metric Factory</a></li>
    <li class="level2"><a href="../interface/metric-registry.html">Metric Registry</a></li>
    <li class="level1 nav-header">metrics</li>
    <li class="level2"><a href="derived-metric-types.html">Derived Metric Types</a></li>
    <li class="level2 active"><a href="#">Primitive Metric Types</a></li>
  </ul>

  <ul class="nav-list">
    <li class="level1 nav-header">Related Projects</li>
    
    <li class="level2"><a href="https://typelevel.org/cats/">cats</a></li>
    
    <li class="level2"><a href="https://typelevel.org/cats-effect/">cats-effect</a></li>
    
    <li class="level2"><a href="https://github.com/davenverse/epimetheus">epimetheus</a></li>
    
  </ul>

</nav>

<div id="container">

  <nav id="page-nav">
    <p class="header"><a href="#">Primitive Metric Types</a></p>

    <ul class="nav-list">
      <li class="level1"><a href="#counter"><code>Counter</code></a></li>
      <li class="level1"><a href="#gauge"><code>Gauge</code></a></li>
      <li class="level1"><a href="#histogram"><code>Histogram</code></a></li>
      <li class="level2"><a href="#user-defined-buckets">User Defined Buckets</a></li>
      <li class="level2"><a href="#generated-buckets">Generated Buckets</a></li>
      <li class="level1"><a href="#summary"><code>Summary</code></a></li>
      <li class="level2"><a href="#quantiles">Quantiles</a></li>
      <li class="level2"><a href="#maximum-age-and-age-buckets">Maximum Age and Age Buckets</a></li>
      <li class="level1"><a href="#info"><code>Info</code></a></li>
    </ul>

    <p class="footer"></p>
  </nav>

  <main class="content">

    <h1 id="primitive-metric-types" class="title">Primitive Metric Types</h1>
    <p><strong>For more detailed information on building metrics see the <a href="../interface/dsl.html">Metrics DSL</a> section.</strong></p>
    <p>The examples in this section assume you have imported the following and have created a
    <a href="../interface/metric-factory.html"><code>MetricFactory</code></a>:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">prometheus4cats</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">val</span><span> </span><span class="identifier">factory</span><span>: </span><span class="type-name">MetricFactory</span><span>[</span><span class="type-name">IO</span><span>] = </span><span class="type-name">MetricFactory</span><span>.</span><span class="identifier">noop</span><span>[</span><span class="type-name">IO</span><span>]
</span><span class="comment">// factory: MetricFactory[IO] = prometheus4cats.MetricFactory$$anon$36@112f8e04</span></code></pre>
    
    <h3 id="counter" class="section"><code>Counter</code><a class="anchor-link right" href="#counter"><i class="icofont-laika">&#xef71;</i></a></h3>
    <p>This implements an <a href="https://github.com/OpenObservability/OpenMetrics">OpenMetrics</a> counter, allowing a number to be incremented by <code>1</code> or some positive value.</p>
    <p>See the example below on how to obtain a <code>Counter</code> from a <a href="../interface/metric-factory.html"><code>MetricFactory</code></a>:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">factory</span><span>.</span><span class="identifier">counter</span><span>(</span><span class="string-literal">&quot;my_counter_total&quot;</span><span>).</span><span class="identifier">ofLong</span><span>.</span><span class="identifier">help</span><span>(</span><span class="string-literal">&quot;Metric description&quot;</span><span>)</span></code></pre>
    
    <h3 id="gauge" class="section"><code>Gauge</code><a class="anchor-link right" href="#gauge"><i class="icofont-laika">&#xef71;</i></a></h3>
    <p>This implements an <a href="https://github.com/OpenObservability/OpenMetrics">OpenMetrics</a> gauge, allowing a number to be incremented and decremented by <code>1</code> or some positive
    value, as well as reset to <code>0</code>.</p>
    <p>See the example below on how to obtain a <code>Gauge</code> from a <a href="../interface/metric-factory.html"><code>MetricFactory</code></a>:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">factory</span><span>.</span><span class="identifier">gauge</span><span>(</span><span class="string-literal">&quot;my_summary&quot;</span><span>).</span><span class="identifier">ofLong</span><span>.</span><span class="identifier">help</span><span>(</span><span class="string-literal">&quot;Metric description&quot;</span><span>)</span></code></pre>
    
    <h3 id="histogram" class="section"><code>Histogram</code><a class="anchor-link right" href="#histogram"><i class="icofont-laika">&#xef71;</i></a></h3>
    <p>This implements an <a href="https://github.com/OpenObservability/OpenMetrics">OpenMetrics</a> histogram, allowing a number to be recorded on a distribution of pre-defined buckets.</p>
    <p>See the example below on how to obtain a <code>Histogram</code> from a <a href="../interface/metric-factory.html"><code>MetricFactory</code></a>:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">histogram</span><span> = </span><span class="identifier">factory</span><span>
  .</span><span class="identifier">histogram</span><span>(</span><span class="string-literal">&quot;my_histogram&quot;</span><span>)
  .</span><span class="identifier">ofDouble</span><span>
  .</span><span class="identifier">help</span><span>(</span><span class="string-literal">&quot;Metric description&quot;</span><span>)</span></code></pre>
    
    <h4 id="user-defined-buckets" class="section">User Defined Buckets<a class="anchor-link right" href="#user-defined-buckets"><i class="icofont-laika">&#xef71;</i></a></h4>
    <p>You can set buckets statically with your own values, the type of these values must match that of the <code>Histogram</code>
    (either <code>Double</code> or <code>Long</code>).</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">histogram</span><span>.</span><span class="identifier">buckets</span><span>(</span><span class="number-literal">0.1</span><span>, </span><span class="number-literal">0.5</span><span>, </span><span class="number-literal">1.0</span><span>, </span><span class="number-literal">1.5</span><span>, </span><span class="number-literal">2.0</span><span>)</span></code></pre>
    <p>You can also use pre-defined values for default HTTP timing buckets.</p>
    <p><strong>Note that this syntax is only available on <code>Histogram</code>s that record <code>Double</code> values.</strong></p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">histogram</span><span>.</span><span class="identifier">defaultHttpBuckets</span></code></pre>
    
    <h4 id="generated-buckets" class="section">Generated Buckets<a class="anchor-link right" href="#generated-buckets"><i class="icofont-laika">&#xef71;</i></a></h4>
    <p>It is possible to generate buckets of a certain size, which is specified at compile time with a natural number.</p>
    <p>In Scala 2, you must import Shapeless&#39; <code>Nat</code>, whereas in Scala 3 this will work with integers.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">shapeless</span><span>.</span><span class="type-name">Nat</span></code></pre>
    <p>Linear buckets may be generated using the method below:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">histogram</span><span>.</span><span class="identifier">linearBuckets</span><span>[</span><span class="type-name">Nat</span><span class="number-literal">._10</span><span>](</span><span class="identifier">start</span><span> = </span><span class="number-literal">1</span><span>, </span><span class="identifier">width</span><span> = </span><span class="number-literal">3</span><span>)</span></code></pre>
    <p>Exponential buckets may be generated using the method below:</p>
    <p><strong>Note that this syntax is only available on <code>Histogram</code>s that record <code>Double</code> values.</strong></p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">histogram</span><span>.</span><span class="identifier">exponentialBuckets</span><span>[</span><span class="type-name">Nat</span><span class="number-literal">._5</span><span>](</span><span class="identifier">start</span><span> = </span><span class="number-literal">1.0</span><span>, </span><span class="identifier">factor</span><span> = </span><span class="number-literal">1.5</span><span>)</span></code></pre>
    
    <h3 id="summary" class="section"><code>Summary</code><a class="anchor-link right" href="#summary"><i class="icofont-laika">&#xef71;</i></a></h3>
    <p>This implements an <a href="https://github.com/OpenObservability/OpenMetrics">OpenMetrics</a> summary, allowing a number to be recorded against a calculated.</p>
    <p>See the example below on how to obtain a <code>Summary</code> from a <a href="../interface/metric-factory.html"><code>MetricFactory</code></a>:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">summary</span><span> = </span><span class="identifier">factory</span><span>
  .</span><span class="identifier">summary</span><span>(</span><span class="string-literal">&quot;my_summary&quot;</span><span>)
  .</span><span class="identifier">ofDouble</span><span>
  .</span><span class="identifier">help</span><span>(</span><span class="string-literal">&quot;Metric description&quot;</span><span>)</span></code></pre>
    <p>By default, <code>Summary</code> metrics provide the count and the sum. For example, if you measure latencies of a REST service,
    the count will tell you how often the REST service was called, and the sum will tell you the total aggregated response
    time. You can calculate the average response time using a Prometheus query dividing sum / count.</p>
    
    <h4 id="quantiles" class="section">Quantiles<a class="anchor-link right" href="#quantiles"><i class="icofont-laika">&#xef71;</i></a></h4>
    <p>In addition to count and sum, you can configure a <code>Summary</code> to provide quantiles:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">quantileSummary</span><span> = </span><span class="identifier">factory</span><span>
  .</span><span class="identifier">summary</span><span>(</span><span class="string-literal">&quot;my_summary&quot;</span><span>)
  .</span><span class="identifier">ofDouble</span><span>
  .</span><span class="identifier">help</span><span>(</span><span class="string-literal">&quot;Metric description&quot;</span><span>)
  .</span><span class="identifier">quantile</span><span>(</span><span class="number-literal">0.5</span><span>, </span><span class="number-literal">0.01</span><span>)    </span><span class="comment">// 0.5 quantile (median) with 0.01 allowed error
</span><span>  .</span><span class="identifier">quantile</span><span>(</span><span class="number-literal">0.95</span><span>, </span><span class="number-literal">0.005</span><span>)  </span><span class="comment">// 0.95 quantile with 0.005 allowed error</span></code></pre>
    <p>As an example, a 0.95 quantile of 120ms tells you that 95% of the calls were faster than 120ms, and 5% of the calls were
    slower than 120ms.</p>
    <p>Tracking exact quantiles require a large amount of memory, because all observations need to be stored in a sorted list.
    Therefore, we allow an error to significantly reduce memory usage.</p>
    <p>In the example, the allowed error of 0.005 means that you will not get the exact 0.95 quantile, but anything between the
    0.945 quantile and the 0.955 quantile.</p>
    <p>Experiments show that the Summary typically needs to keep less than 100 samples to provide that precision, even if you
    have hundreds of millions of observations.</p>
    <p>There are a few special cases:</p>
    <ul>
      <li>You can set an allowed error of 0, but then the Summary will keep all observations in memory.</li>
      <li>You can track the minimum value with .quantile(0.0, 0.0). This special case will not use additional memory even though
      the allowed error is 0.</li>
      <li>You can track the maximum value with .quantile(1.0, 0.0). This special case will not use additional memory even though
      the allowed error is 0.</li>
    </ul>
    
    <h4 id="maximum-age-and-age-buckets" class="section">Maximum Age and Age Buckets<a class="anchor-link right" href="#maximum-age-and-age-buckets"><i class="icofont-laika">&#xef71;</i></a></h4>
    <p>Typically, you don&#39;t want to have a <code>Summary</code> representing the entire runtime of the application, but you want to look
    at a reasonable time interval. Summary metrics implement a configurable sliding time window:</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">scala</span><span>.</span><span class="identifier">concurrent</span><span>.</span><span class="identifier">duration</span><span>.</span><span class="identifier">_</span><span>

</span><span class="keyword">val</span><span> </span><span class="identifier">ageSummary</span><span> = </span><span class="identifier">factory</span><span>
  .</span><span class="identifier">summary</span><span>(</span><span class="string-literal">&quot;my_summary&quot;</span><span>)
  .</span><span class="identifier">ofDouble</span><span>
  .</span><span class="identifier">help</span><span>(</span><span class="string-literal">&quot;Metric description&quot;</span><span>)
  .</span><span class="identifier">maxAge</span><span>(</span><span class="number-literal">10</span><span>.</span><span class="identifier">seconds</span><span>)
  .</span><span class="identifier">ageBuckets</span><span>(</span><span class="number-literal">5</span><span>)</span></code></pre>
    <p>The default is a time window of 10 minutes and 5 age buckets, i.e. the time window is 10 minutes wide, and we slide it
    forward every 2 minutes.</p>
    
    <h3 id="info" class="section"><code>Info</code><a class="anchor-link right" href="#info"><i class="icofont-laika">&#xef71;</i></a></h3>
    <p>This implements an <a href="https://github.com/OpenObservability/OpenMetrics">OpenMetrics</a> info type, allowing labels to be registered as a sort of gauge where the value is
    always <code>1</code>.</p>
    <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">info</span><span> = </span><span class="identifier">factory</span><span>
  .</span><span class="identifier">info</span><span>(</span><span class="string-literal">&quot;my_info&quot;</span><span>)
  .</span><span class="identifier">help</span><span>(</span><span class="string-literal">&quot;Info description&quot;</span><span>)</span></code></pre>

    <hr style="margin-top: 30px"/>
    <footer style="font-size: 90%; text-align: center">
      Prometheus4Cats is a <a href="https://permutive.com/">Permutive</a> project distributed under the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache-2.0</a> license.
    </footer>

  </main>

</div>

</body>
</html>
